<!DOCTYPE html>
<html>
<head>
	<title>2 hours Documentation</title>
</head>
<body>
<ul>
	<li><a href="index.html">Home</a></li>
	<li><a href="AboutUs.html">About Us</a></li>
	<li><a href="FAQ.html">FAQ</a></li>
	<li><a href="Shop.html">Shop</a></li>
	<li><a href="AddCart.html">Shopping Cart</a></li>
	<li><a href="ContactUs.html">Contact Us</a></li>
	<li><a href="login.html">Login</a></li>
</ul>

<h2>Revenue Generation</h2>
	<p>2hours will generate most of it's revenue from delivery charges based on the amount each customer
		purchase and potentially charging a monthly subscription fee in the future, if there is substantial
		client base.</p>
	<p>
		We will also look sponsorships from local and foreign suppliers to help distribute their products
		through our websites.
	</p>
<h2>Functional Requirements</h2>
	<h3>USER</h3>
	<ul>
		<li>Able to search a specific type of food and the system will display the relevant items</li>
		<li>System will send confirmation email after a new user has register with the website </li>
		<li>System will confirm payment authorization and notify customer payment has been successful or not</li>
		<li>Users are able to create and edit account and profile info</li>
		<li>Checkout should accept all types of credit cards</li>
		<li>User are able to view order history and cancel un-delivered orders</li>
		<li>System should allow users to reset password after user has been verified</li>
	</ul>
<h3>ADMIN</h3>
	<ul>
		<li>Admins can create, update and delete any products, users and orders</li>
		<li>Admins can add and delete suppliers</li>
	</ul>
<h2>Non-Functional Requirements</h2>
<h3>USER</h3>
<ul>
	<li>Code Platform: ASP.NET with MVC</li>
	<li>Database: SQL server</li>
	<li>Scripts: jQuery, Javascript, HTML, CSS</li>
	<li>Framework: Twitter Bootstrap</li>
	<li>O/S: Windows</li>
</ul>

<h2>USE Case Diagram</h2>
	<img src="./Images/2%20hours_usercase.jpg" width="1000" height="1000">
<h2>SQL Script</h2>
	<textarea name="SQL" rows="100" cols="100">
		
		IF OBJECT_ID('OrderProduct')
		IS NOT NULL DROP TABLE OrderProduct;
	IF OBJECT_ID('OrderDetail')
		IS NOT NULL DROP TABLE OrderDetail;
		IF OBJECT_ID('Visit')
		IS NOT NULL DROP TABLE Visit;
	IF OBJECT_ID('Product')
		IS NOT NULL DROP TABLE Product;
	IF OBJECT_ID('UserProfile')
		IS NOT NULL DROP TABLE UserProfile;
	IF OBJECT_ID('Supplier')
		IS NOT NULL DROP TABLE Supplier;
	IF OBJECT_ID('Category')
		IS NOT NULL DROP TABLE Category;



	CREATE TABLE Category (
		productType VARCHAR(20)PRIMARY KEY,
		);
	GO

	INSERT INTO Category VALUES('Vegetable');
	INSERT INTO Category VALUES('Meat');
	INSERT INTO Category VALUES('Fruit');
	GO

	CREATE TABLE Supplier (
		supplierID INT IDENTITY(10000, 1) PRIMARY KEY,
		supplierName VARCHAR(50),
		supplierAddress VARCHAR(100),
		email VARCHAR(100),
		phone VARCHAR(20),
		);
	GO

	INSERT INTO Supplier VALUES('Safeway', '111 one st, Toronto', 'one@safeway.net', '905-222-1111');
	INSERT INTO Supplier VALUES('Walmart', '222 two st, PoCo', 'two@walmart.net', '604-222-1111');
	INSERT INTO Supplier VALUES('Superstore', '333 three st, Vancouver', 'three@superstore.net', '778-222-1111');
	GO

	CREATE TABLE UserProfile (
		userID INT PRIMARY KEY,
		firstName VARCHAR(30),
		lastName VARCHAR(30),
		dateOfBirth DATE,
		userName VARCHAR(50),
		userPassWord VARCHAR(100),
		userAddress VARCHAR(100),
		email VARCHAR(100),
		phone FLOAT,
		);
	GO

	INSERT INTO UserProfile VALUES(1, 'cheng', 'c', '2000-1-1', 'cheng', 'hello', '879 Seymour Street', 'customerservice@superstore.com', 60493288484);
	INSERT INTO UserProfile VALUES(2, 'farideh', 'f', '2015-12-14', 'hassan', 'welcome', '879 Seymour Street', 'customerservice@superstore.com', 604869621);
	INSERT INTO UserProfile VALUES(3, 'rosalia', 'm', '2023-06-19', 'rosalia', 'coffee', '879 Seymour Street', 'customerservice@superstore.com', 604869621);
	GO

	CREATE TABLE Product (
		productID INT PRIMARY KEY,
		productName VARCHAR(20),
		unit VARCHAR(5),
		price MONEY CHECK(price > 0),
		producType VARCHAR(20) FOREIGN KEY REFERENCES Category(productType),
		supplierID INT FOREIGN KEY REFERENCES Supplier(supplierID),
		);
	GO

	INSERT INTO Product VALUES(1, 'Tomato', 'lb', 1, 'Vegetable', 10000);
	INSERT INTO Product VALUES(2, 'Short Ribs', 'lb', 6, 'Meat', 10001);
	INSERT INTO Product VALUES(3, 'Grapes', 'pc', 2, 'Fruit', 10002);
	GO

	CREATE TABLE Visit (
		sessionID VARCHAR(44) PRIMARY KEY,
		started DATETIME
	);
	GO

	INSERT INTO Visit VALUES('aaa111', '2015-1-1 12:00');
	INSERT INTO Visit VALUES('bbb222', '2015-1-1 12:00');
	INSERT INTO Visit VALUES('ccc333', '2015-1-1 12:00');

	CREATE TABLE OrderDetail (
		sessionID VARCHAR(44),
		orderNumber INT IDENTITY(1000, 1),
		orderDate DATETIME,
		deliveryTime DATETIME,
		deliveryStatus BIT,
		updatedSession DATETIME,
		totalPrice MONEY CHECK( totalPrice > 0),
		PRIMARY KEY (orderNumber),
		userID INT FOREIGN KEY REFERENCES UserProfile(userID),
		FOREIGN KEY (sessionID) REFERENCES Visit(sessionID),
		);
	GO

	INSERT INTO OrderDetail VALUES ('aaa111', '2015-1-1 12:00', '2015-1-2 12:00',  0, '2015-1-1 12:00', 24.5, 1);
	INSERT INTO OrderDetail VALUES ('bbb222', '2015-12-1 12:00', '2015-1-3 12:00',  1, '2015-12-1 12:00', 95, 2);
	INSERT INTO OrderDetail VALUES ('ccc333', '2015-3-1 12:00', '2015-4-4 12:00',  0, '2015-3-1 12:00', 48.4, 3);


	CREATE TABLE OrderProduct (
		quantity DECIMAL,
		productID INT FOREIGN KEY REFERENCES Product(productID),
		orderNumber INT FOREIGN KEY REFERENCES OrderDetail(orderNumber),
	);
	GO

	INSERT INTO OrderProduct VALUES (20, 1, 1000);
	INSERT INTO OrderProduct VALUES (8, 2, 1001);
	INSERT INTO OrderProduct VALUES (19, 3, 1002);
	GO
	</textarea>
<h2>ERD Diagram</h2>
<img src="./Images/UpatedERD.PNG" width="1200" height="860">
</body>
</html>